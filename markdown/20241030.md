## 内存报错

在这里报错

```cpp
namespace Meow
{
    struct SurfaceData
    {
        vk::Extent2D         extent;
        vk::raii::SurfaceKHR surface = nullptr;

        SurfaceData(vk::raii::Instance const& instance, GLFWwindow* glfw_window, vk::Extent2D const& extent_)
            : extent(extent_)
        {
            VkSurfaceKHR _surface;
            VkResult err = glfwCreateWindowSurface(static_cast<VkInstance>(*instance), glfw_window, nullptr, &_surface);
            if (err != VK_SUCCESS)
                throw std::runtime_error("Failed to create window!");
            surface = vk::raii::SurfaceKHR(instance, _surface);
        }

        SurfaceData(std::nullptr_t) {}
    };
} // namespace Meow
```

```
Unhandled exception at 0x00007FF8C916F39C in MeowEditor.exe: Microsoft C++ exception: std::runtime_error at memory location 0x00000010034FE948.
```

这里 `glfwCreateWindowSurface` 返回 `VK_ERROR_INITIALIZATION_FAILED(-3)`，`_surface` 是 null

就很神奇

这里之前从来没有过问题

难道是因为这里没有 dllexport？

## glfwCreateWindowSurface VK_ERROR_INITIALIZATION_FAILED 

`glfwCreateWindowSurface` 这个函数说了，如果是报错 `VK_ERROR_INITIALIZATION_FAILED` 的话，可能是 vulkan loader 没加载

感觉像是 glfwinit 没调用

于是加了 glfwinit 就没这个问题了